{
  "switches": [
    {
      "name": "Power",
      "id": "power",
      "entity": {
        "command_template": "{ \"power\": { \"text\": \"{{ value }}\" } }",
        "value_template": "{{ value_json.state.power if value_json.state is defined and value_json.state.power is defined else 'unknown' }}"
      }
    },
    {
      "name": "Mute",
      "id": "mute",
      "entity": {
        "command_template": "{ \"mute\": { \"text\": \"{{ value }}\" } }",
        "value_template": "{{ value_json.state.mute if value_json.state is defined and value_json.state.mute is defined else 'unknown' }}"
      }
    }
  ],
  "buttons": [
    {
      "name": "Mute Toggle",
      "id": "mute_toggle",
      "entity": {
      }
    },
    {
      "name": "Refresh",
      "id": "refresh",
      "entity": {
        "payload_press": "{ \"refresh\": { \"text\": \"ON\" } }"
      }
    }
  ],
  "sensors": [
    {
      "name": "Volume Percent",
      "id": "volume_percent",
      "entity": {
        "value_template": "{{ (value_json.state.volume | float)*0.01 if value_json.state is defined and value_json.state.volume is defined else 'unknown' }}"
      }
    },
    {
      "name": "State",
      "id": "state",
      "entity": {
        "value_template": "{{ value_json.state.power if value_json.state is defined and value_json.state.power is defined else 'unknown' }}",
        "json_attributes_template": "{{ value_json.state if value_json.state is defined else 'unknown' }}"
      }
    }
  ],
  "fans": [
    {
      "name": "Volume",
      "id": "volume",
      "entity": {
        "command_template": "{ \"volume\": { \"numeric\": \"{{ value }}\" } }",
        "percentage_command_template": "{ \"volume\": { \"numeric\": {{ value }} } }",
        "percentage_value_template": "{{ value_json.state.volume if value_json.state is defined and value_json.state.volume is defined else 'unknown' }}",
        "state_value_template": "{{ value_json.state.power if value_json.state is defined and value_json.state.power is defined else 'unknown' }}",
        "speed_range_min": "1",
        "speed_range_max": "99"
      }
    }
  ],
  "selects": [
    {
      "name": "Source",
      "id": "source",
      "entity": {
        "command_template": "{ \"source\": { \"text\": \"{{ value }}\" } }",
        "value_template": "{{ value_json.state.source if value_json.state is defined and value_json.state.source is defined else 'unknown' }}"
      }
    }
  ]
}